---
author: QwerSe
head: 
date: 2016-11-3
title:  centos6,内核升级为3.10
tags: linux

category: web
status: publish
summary: 内核升级用编译器，太慢太麻烦了，所有我就网上找资料，整理了一篇用yum升级内核的方法！
---

### 导入公钥：

	rpm --import https://www.elrepo.org/RPM-GPG-KEY-elrepo.org

### 要为redhat6和centos6安装ELRepo6仓库：

	rpm -Uvh http://www.elrepo.org/elrepo-release-6-6.el6.elrepo.noarch.rpm


### 安装 kernel-lt（lt=long-term）

	yum --enablerepo=elrepo-kernel install kernel-lt -y

### 编辑grub.conf文件，修改Grub引导顺序

	vim /etc/grub.conf
	# grub.conf generated by anaconda
	#
	# Note that you do not have to rerun grub after making changes to this file
	# NOTICE:  You do not have a /boot partition.  This means that
	#          all kernel and initrd paths are relative to /, eg.
	#          root (hd0,0)
	#          kernel /boot/vmlinuz-version ro root=/dev/sda1
	#          initrd /boot/initrd-[generic-]version.img
	#boot=/dev/sda
	default=0
	timeout=5
	splashimage=(hd0,0)/boot/grub/splash.xpm.gz
	hiddenmenu
	title CentOS (3.10.28-1.el6.elrepo.x86_64)
			root (hd0,0)
			kernel /boot/vmlinuz-3.10.28-1.el6.elrepo.x86_64 ro root=UUID=0a05411f-16f2-4d69-beb0-2db4cefd3613 rd_NO_LUKS  KEYBOARDTYPE=pc KEYTABLE=us rd_NO_MD crashkernel=auto LANG=en_US.UTF-8
	 rd_NO_LVM rd_NO_DM rhgb quiet
			initrd /boot/initramfs-3.10.28-1.el6.elrepo.x86_64.img
	title CentOS (2.6.32-431.3.1.el6.x86_64)
			root (hd0,0)
			kernel /boot/vmlinuz-2.6.32-431.3.1.el6.x86_64 ro root=UUID=0a05411f-16f2-4d69-beb0-2db4cefd3613 rd_NO_LUKS  KEYBOARDTYPE=pc KEYTABLE=us rd_NO_MD crashkernel=auto LANG=en_US.UTF-8 r
	d_NO_LVM rd_NO_DM rhgb quiet
			initrd /boot/initramfs-2.6.32-431.3.1.el6.x86_64.img
	title CentOS (2.6.32-431.el6.x86_64)
			root (hd0,0)
			kernel /boot/vmlinuz-2.6.32-431.el6.x86_64 ro root=UUID=0a05411f-16f2-4d69-beb0-2db4cefd3613 rd_NO_LUKS  KEYBOARDTYPE=pc KEYTABLE=us rd_NO_MD crashkernel=auto LANG=zh_CN.UTF-8 rd_NO
	_LVM rd_NO_DM rhgb quiet
			initrd /boot/initramfs-2.6.32-431.el6.x86_64.img
	确认刚安装好的内核在哪个位置，然后设置default值（从0开始），一般新安装的内核在第一个位置，所以设置default=0。

### 5、重启，查看内核版本号

	[root@dev ~]# uname -r
	3.10.28-1.el6.elrepo.x86_64
 

